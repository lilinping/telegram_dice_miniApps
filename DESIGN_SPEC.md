# 设计规范文档（Design Specification Document）

## 文档信息
- **项目名称**：骰宝夺宝 / DiceTreasure
- **设计版本**：V1.0
- **创建日期**：2025-11-09
- **设计理念**：现代赌场奢华风 + Telegram原生交互
- **目标平台**：Telegram WebApp (移动端优先)

---

## 1. 设计概述

### 1.1 设计理念
融合传统赌场的奢华感与现代移动应用的简洁性，创造沉浸式、高效、令人兴奋的骰宝游戏体验。设计强调视觉冲击力、即时反馈和流畅操作，让用户在Telegram内获得媲美原生APP的游戏体验。

### 1.2 目标用户
- **年龄层**：18-45岁
- **设备偏好**：移动端为主（iPhone/Android）
- **使用场景**：碎片时间、通勤、休闲娱乐
- **技术水平**：熟悉移动应用操作，对加密货币有一定了解

### 1.3 设计原则
1. **移动优先，触控友好** - 所有交互元素适配手指操作，最小触摸区域44×44px
2. **视觉层次清晰** - 用色彩、大小、位置区分信息重要性
3. **即时反馈明确** - 每次操作都有视觉/触觉/听觉反馈
4. **信息密度平衡** - 避免信息过载，保持界面呼吸感
5. **动效提升沉浸** - 关键时刻（开奖、中奖）使用震撼动效
6. **性能优先** - 设计考虑低端设备兼容性

---

## 2. 视觉设计规范

### 2.1 色彩系统

#### 主色调（Primary Colors）
```
深红色（Dark Red）
- 主色：#8B0000 (深红)
- 浅色变体：#A52A2A (褐红)
- 深色变体：#5C0000 (暗红)
- 用途：主要背景、重要区域强调、品牌识别

金色（Gold）
- 主色：#FFD700 (金色)
- 浅色变体：#FFF4CC (淡金)
- 深色变体：#DAA520 (暗金)
- 用途：强调元素、按钮、余额显示、中奖高亮
```

#### 辅助色彩（Secondary Colors）
```
绿色（成功/充值）
- 主色：#10B981 (翠绿)
- 用途：充值按钮、成功状态、正向金额

橙色（警告/提现）
- 主色：#F97316 (活力橙)
- 用途：提现按钮、重要操作、倒计时警告

蓝色（信息/链接）
- 主色：#3B82F6 (蓝色)
- 用途：链接、信息提示、赠送余额
```

#### 中性色（Neutral Colors）
```
背景色系
- 深黑：#0A0A0A (主背景)
- 暗灰：#1A1A1A (卡片背景)
- 中灰：#2A2A2A (次级背景)

文字色系
- 主文字：#FFFFFF (白色)
- 次文字：#A0A0A0 (浅灰)
- 禁用文字：#505050 (深灰)

边框色系
- 主边框：#3A3A3A (灰色边框)
- 强调边框：#FFD700 (金色边框)
```

#### 功能色彩（Functional Colors）
```
成功：#10B981 (绿色)
警告：#F59E0B (黄色)
错误：#EF4444 (红色)
信息：#3B82F6 (蓝色)

盈利：#10B981 (绿色，+金额)
亏损：#EF4444 (红色，-金额)
```

### 2.2 字体规范

#### 字体族（Font Family）
```
主字体：SF Pro Display (iOS) / Roboto (Android)
数字字体：Roboto Mono (等宽字体，用于金额、倒计时)
装饰字体：Cinzel (用于品牌Logo)
```

#### 字号体系（Font Size）
```
超大标题（Display）：32px / Bold / 品牌名称、大奖金额
大标题（H1）：24px / Bold / 页面标题
中标题（H2）：20px / Semibold / 模块标题
小标题（H3）：18px / Semibold / 卡片标题
正文（Body）：16px / Regular / 正文内容
小字（Small）：14px / Regular / 辅助信息
极小字（Tiny）：12px / Regular / 标签、版本号

数字显示
- 余额：28px / Bold / Roboto Mono
- 倒计时：48px / Bold / Roboto Mono
- 赔率：14px / Regular / Roboto Mono
- 下注金额：16px / Semibold / Roboto Mono
```

#### 行高（Line Height）
```
标题：1.2倍字号
正文：1.5倍字号
数字：1倍字号（紧凑）
```

### 2.3 布局系统

#### 栅格系统（Grid System）
```
移动端（iPhone 15 Pro Max: 430px宽）
- 列数：12列
- 间距（Gutter）：16px
- 外边距（Margin）：20px左右

断点（Breakpoints）
- 移动端：320px - 767px
- 平板：768px - 1023px
- 桌面：1024px+
```

#### 间距规范（Spacing）
```
使用8px基准间距系统

xs：4px   - 极小间距（图标与文字）
sm：8px   - 小间距（元素内部）
md：16px  - 中等间距（模块内间距）
lg：24px  - 大间距（模块间距）
xl：32px  - 超大间距（区块间距）
xxl：48px - 巨大间距（主要区块）
```

#### 圆角规范（Border Radius）
```
按钮：8px
卡片：12px
输入框：8px
模态框：16px
图片/头像：圆形（50%）或 8px
投注格：6px
```

#### 阴影系统（Shadow）
```
层级1（卡片悬浮）
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);

层级2（按钮按下）
box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);

层级3（模态框）
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

金色光晕（强调）
box-shadow: 0 0 24px rgba(255, 215, 0, 0.6);

中奖特效
box-shadow: 0 0 40px rgba(255, 215, 0, 0.9);
```

---

## 3. 交互设计规范

### 3.1 导航系统

#### 底部导航栏（Bottom Navigation）
```
位置：固定在底部，高度64px
背景：#1A1A1A，顶部1px金色边框
图标大小：24×24px
标签字号：12px
激活状态：金色图标+金色文字
未激活状态：灰色图标+灰色文字

导航项（5个）：
1. 首页（游戏大厅）- 骰子图标
2. 记录 - 时钟图标
3. 排行 - 奖杯图标
4. 钱包 - 钱包图标
5. 我的 - 用户图标
```

#### 顶部导航栏（Top Bar）
```
高度：56px
背景：半透明#1A1A1A (opacity: 0.95)
左侧：返回按钮（<）或菜单按钮（≡）
中间：页面标题（18px Bold）
右侧：功能按钮（规则、设置等）
```

#### 页面跳转动画
```
前进：从右滑入（slide-in-right, 300ms ease-out）
返回：向右滑出（slide-out-right, 300ms ease-in）
模态框：淡入+缩放（fade-in + scale, 200ms ease-out）
```

### 3.2 交互反馈

#### 按钮状态
```
默认（Default）
- 背景：对应颜色
- 文字：白色
- 边框：无

悬停（Hover，桌面端）
- 背景：颜色加深10%
- 光标：pointer
- 过渡：150ms ease

按下（Active）
- 背景：颜色加深20%
- 缩放：scale(0.98)
- 阴影：加深
- 震动反馈：50ms

禁用（Disabled）
- 背景：#2A2A2A
- 文字：#505050
- 光标：not-allowed
- 不透明度：0.5
```

#### 表单交互
```
输入框（Input）
- 默认：灰色边框 #3A3A3A
- 聚焦：金色边框 #FFD700，外发光
- 错误：红色边框 #EF4444
- 成功：绿色边框 #10B981
- 高度：48px（移动端）

占位符（Placeholder）
- 颜色：#505050
- 字号：16px
- 斜体

下拉选择器（Select）
- 箭头图标：右侧，灰色
- 展开动画：淡入+下滑，200ms
```

#### 加载状态
```
加载动画（Spinner）
- 类型：旋转骰子图标或圆环
- 颜色：金色 #FFD700
- 大小：32px（常规），64px（全屏）
- 旋转速度：1秒/圈

骨架屏（Skeleton）
- 背景：#2A2A2A
- 闪烁动画：渐变扫过，1.5秒循环
- 应用场景：列表加载、图片加载
```

#### 错误提示
```
Toast通知
- 位置：顶部居中，距顶部80px
- 背景：
  - 成功：#10B981
  - 错误：#EF4444
  - 警告：#F59E0B
  - 信息：#3B82F6
- 文字：白色，14px
- 图标：24×24px
- 动画：从上滑入，停留3秒，淡出
- 阴影：0 4px 16px rgba(0,0,0,0.3)

模态框（Modal）
- 背景遮罩：rgba(0,0,0,0.7)
- 内容背景：#1A1A1A
- 标题：20px Bold
- 按钮：底部居中
- 关闭：右上角×图标
```

### 3.3 动效规范

#### 过渡效果（Transitions）
```
快速：150ms - 按钮hover、颜色变化
常规：300ms - 页面切换、展开折叠
缓慢：500ms - 大型内容加载
```

#### 微交互（Micro-interactions）
```
按钮点击
- 波纹效果（Ripple）：从点击点扩散，300ms
- 缩放：scale(0.95)，100ms

筹码选择
- 选中：缩放放大 scale(1.1) + 金色边框
- 音效：硬币碰撞声

投注格点击
- 筹码掉落动画：从顶部弹跳落下，500ms
- 数字累加动画：数字滚动增加

下注确认
- 按钮：脉冲光效，循环闪烁
- 震动：200ms强震
```

#### 加载动画
```
启动页
- Logo：淡入 + 轻微缩放，800ms
- 进度条：从左到右填充，2000ms

页面加载
- 内容：淡入，300ms
- 延迟错开：子元素依次淡入，间隔50ms
```

#### 开奖动画（核心体验）
```
倒计时阶段
- 倒计时数字：缩放脉冲，每秒一次
- 最后5秒：数字变红 + 快速闪烁

封盘阶段
- 投注格：灰化，禁用点击
- 骰盅：轻微抖动，预热

开奖动画（3-5秒）
- 第1秒：骰盅剧烈晃动，骰子在内部碰撞
- 第2秒：骰盅打开，骰子弹出
- 第3-4秒：骰子在赌桌上滚动（3D物理模拟）
- 第5秒：骰子逐渐减速，停止
- 音效：晃动声 → 打开声 → 骰子碰撞声 → 定格声

结果展示
- 点数数字：从小到大缩放弹出，带回弹效果
- 中奖格子：金色边框闪烁 + 粒子爆炸
- 大奖（>1000 USDT）：金币雨从顶部落下，2秒
```

---

## 4. 组件设计规范

### 4.1 基础组件

#### 按钮组件（Button）
```
主按钮（Primary Button）
- 背景：金色渐变 linear-gradient(135deg, #FFD700, #DAA520)
- 文字：#0A0A0A（深色）
- 高度：48px
- 圆角：8px
- 字号：16px Bold
- 最小宽度：120px
- 阴影：0 4px 12px rgba(255, 215, 0, 0.4)
- 用途：确认下注、充值、提现

次要按钮（Secondary Button）
- 背景：透明
- 边框：2px solid #FFD700
- 文字：#FFD700
- 其他同主按钮
- 用途：取消、返回、次要操作

成功按钮（Success Button）
- 背景：#10B981
- 文字：白色
- 用途：充值、确认

警告按钮（Warning Button）
- 背景：#F97316
- 文字：白色
- 用途：提现、重要操作

文本按钮（Text Button）
- 背景：无
- 文字：#FFD700
- 下划线：无
- hover：下划线
- 用途：链接、次要操作

禁用按钮
- 背景：#2A2A2A
- 文字：#505050
- 光标：not-allowed
```

#### 输入组件（Input）
```
文本输入框（Text Input）
- 高度：48px
- 背景：#2A2A2A
- 边框：1px solid #3A3A3A
- 圆角：8px
- 文字：16px，白色
- 占位符：14px，#505050
- 内边距：12px 16px
- 聚焦：边框变金色，外发光 0 0 8px rgba(255,215,0,0.5)

数字输入框（Number Input）
- 同文本输入框
- 字体：Roboto Mono
- 右侧：单位标签（如「USDT」）

密码输入框（Password Input）
- 同文本输入框
- 右侧：眼睛图标（显示/隐藏）
```

#### 展示组件

**卡片（Card）**
```
标准卡片
- 背景：#1A1A1A
- 圆角：12px
- 内边距：16px
- 阴影：0 2px 8px rgba(0,0,0,0.15)
- 边框：1px solid #3A3A3A（可选）

强调卡片（高亮）
- 背景：径向渐变，中心#2A1010，边缘#1A1A1A
- 边框：2px solid #FFD700
- 阴影：0 4px 16px rgba(255,215,0,0.3)
```

**列表（List）**
```
列表项（List Item）
- 高度：64px（常规），80px（带头像）
- 背景：#1A1A1A
- 边框底部：1px solid #2A2A2A
- 内边距：12px 16px
- 点击：背景变#2A2A2A

头像
- 尺寸：48×48px
- 圆形
- 边框：2px solid #FFD700（VIP用户）

右侧箭头
- 颜色：#505050
- 大小：20×20px
```

**标签（Tag）**
```
尺寸：
- 小：高度24px，字号12px
- 中：高度28px，字号14px
- 大：高度32px，字号16px

样式：
- 背景：半透明颜色
- 圆角：4px
- 内边距：4px 8px

类型：
- 信息：蓝色背景
- 成功：绿色背景
- 警告：橙色背景
- VIP：金色渐变背景
```

### 4.2 业务组件

#### 投注格组件（Bet Cell）
```
尺寸：
- 小格（点数）：60×60px
- 中格（大小单双）：80×60px
- 大格（组合）：100×80px

结构：
- 顶部：图标（24×24px）
- 中间：名称（14px Bold）
- 底部：赔率（12px，金色）

状态：
- 默认：背景#2A2A2A，边框#3A3A3A
- hover：背景#3A3A3A
- 已下注：背景金色渐变，筹码图标叠加
- 中奖：金色边框闪烁，粒子效果
- 禁用：不透明度0.5，灰化

筹码显示：
- 位置：格子中心
- 图标：筹码图片
- 下方：下注金额（12px Bold）
```

#### 骰盅展示组件（Dice Cup）
```
容器尺寸：全屏宽 × 300px高
3D场景：
- WebGL渲染（Three.js）
- 背景：赌桌材质（深红色绒布）
- 光源：顶部白光 + 环境光

骰盅模型：
- 材质：金属质感（反射、高光）
- 颜色：暗金色
- 动画：晃动、打开

骰子模型：
- 材质：象牙白（微光泽）
- 点数：黑色凹陷
- 物理：重力、碰撞、滚动摩擦
- 最终停止：面向用户的点数朝上

降级方案（低端设备）：
- 2D Lottie动画
- 预渲染视频（WebM格式）
```

#### 余额显示组件（Balance Display）
```
布局：
- 图标：钱包图标，24×24px，金色
- 标签：「余额」，12px，灰色
- 金额：28px Bold，Roboto Mono，金色
- 单位：「USDT」，14px，灰色

交互：
- 点击：跳转钱包页
- 刷新动画：旋转硬币图标，500ms
```

#### 倒计时组件（Countdown Timer）
```
显示：
- 位置：顶部居中
- 字号：48px Bold，Roboto Mono
- 颜色：
  - >10秒：白色
  - 5-10秒：黄色
  - <5秒：红色 + 闪烁

动画：
- 每秒缩放脉冲
- 最后5秒：快速闪烁 + 震动反馈

结束状态：
- 显示「开奖中...」
- 文字颜色：金色
- 旋转动画
```

#### 历史走势图组件（Trend Chart）
```
大小柱状图：
- 高度：200px
- X轴：局号
- Y轴：大/小标记
- 柱状：
  - 大：红色柱
  - 小：蓝色柱
- 当前局：金色边框高亮

单双饼图：
- 直径：150px
- 单：橙色扇形
- 双：蓝色扇形
- 中心：百分比数字

热号列表：
- 1-6点横向排列
- 圆形气泡，直径48px
- 背景渐变：
  - 冷号（<10%）：蓝色
  - 热号（>20%）：红色
- 中心：点数大图标
- 底部：出现百分比
```

---

## 5. 页面设计详细说明

### 5.1 页面设计总览表

| 页面名称 | 页面目标 | 布局结构 | 关键元素 | 交互逻辑 | 状态变化 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| 启动欢迎页 | 快速加载、建立品牌印象 | 垂直居中布局 | Logo、进度条、背景动画 | 自动加载、授权、跳转 | 加载中→加载完成→跳转 |
| 游戏大厅 | 提供完整游戏体验 | 顶栏+骰盅区+投注面板+底栏 | 倒计时、3D骰子、投注格、筹码选择器 | 选筹码→点格子→确认下注→观看开奖 | 下注阶段→封盘→开奖→结算 |
| 钱包页面 | 资金管理 | 顶栏+余额卡+按钮+记录列表 | 余额卡、充值/提现按钮、交易列表 | 点击充值/提现、筛选记录 | 加载中→数据展示→刷新 |
| 充值页面 | 便捷充值 | 表单流程布局 | 金额选择、支付方式、二维码 | 选金额→选方式→显示地址→等待 | 输入→确认→支付中→成功/失败 |
| 提现页面 | 安全提现 | 表单流程布局 | 金额输入、地址选择、KYC入口 | 输入→选地址→验证→确认 | 输入→验证→提交→审核中 |
| 历史记录页 | 数据追溯 | 标签页+列表 | 标签切换、记录列表、走势图 | 切换标签、筛选、查看详情 | 加载→展示→筛选刷新 |
| 规则说明页 | 降低学习成本 | 滚动长页 | 目录导航、图文说明、赔率表 | 滚动阅读、点击目录跳转 | 静态展示 |
| 排行榜页 | 激发竞争 | 标签页+列表+底部卡片 | 榜单切换、排名列表、我的排名 | 切换榜单、下拉刷新 | 加载→展示→刷新 |
| 个人中心 | 个性化管理 | 头部卡片+功能列表 | 用户信息、VIP标识、功能入口 | 点击入口跳转 | 静态展示 |
| 邀请好友页 | 社交裂变 | 卡片+列表布局 | 邀请码、二维码、分享按钮 | 复制链接、分享、查看记录 | 生成→展示→分享 |
| VIP中心页 | 付费转化 | 当前等级+对比表 | 等级卡、权益表、升级按钮 | 查看权益、点击升级 | 静态展示+引导充值 |

### 5.2 关键页面详细设计

#### 游戏大厅（首页）- 最重要页面

**整体布局（iPhone 15 Pro Max: 430×932px）**
```
┌─────────────────────────────────────┐
│ 顶部栏（56px）                        │ ← 固定
│ 局号 | 倒计时 | 余额 | 充值           │
├─────────────────────────────────────┤
│ 实时消息滚动条（32px）                 │
│ 「玩家***刚中奖1000 USDT」            │
├─────────────────────────────────────┤
│                                     │
│        骰盅展示区（300px）            │
│         3D骰子动画                   │
│                                     │
├─────────────────────────────────────┤
│                                     │
│      投注面板（可滚动）               │
│   [大] [小] [单] [双]                │
│   [4][5][6]...[17]                  │
│   [任意三同] [指定三同]               │
│   [两骰组合区域]                     │
│   [单骰号 1-6]                       │
│                                     │
├─────────────────────────────────────┤
│ 底部操作栏（80px）                    │ ← 固定
│ 筹码选择 | 确认下注 | 清空 | 走势     │
└─────────────────────────────────────┘
│ 底部导航栏（64px）                    │ ← 固定
```

**顶部栏详细设计**
```
高度：56px
背景：#1A1A1A (不透明)
边框底：1px solid #FFD700

左侧（局号）：
- 图标：#标志，16px
- 文字：「#123456」，14px，灰色
- 宽度：80px

中间（倒计时）：
- 数字：48px Bold，Roboto Mono
- 颜色：白色（>10s）→黄色（5-10s）→红色闪烁（<5s）
- 动画：每秒缩放脉冲

右侧（余额+充值）：
- 余额显示：
  - 钱包图标，20px，金色
  - 数字，18px Bold，金色
  - 单位「USDT」，12px，灰色
- 充值按钮：
  - 背景：#10B981
  - 文字：「充值」，14px
  - 尺寸：60×32px
  - 圆角：16px
```

**投注面板详细布局**
```
容器：
- 宽度：100%，内边距16px
- 背景：透明
- 可垂直滚动

第一排（大/小/单/双）：
┌───────┬───────┬───────┬───────┐
│  大   │  小   │  单   │  双   │
│ 11-17 │ 4-10  │  ODD  │ EVEN  │
│ 1:1   │ 1:1   │ 1:1   │ 1:1   │
└───────┴───────┴───────┴───────┘
- 每格：95×70px
- 间距：8px
- 背景渐变：#2A2A2A → #1A1A1A
- 边框：1px solid #3A3A3A
- 圆角：8px

第二排（点数 4-10）：
[4][5][6][7][8][9][10]
- 每格：55×60px
- 垂直排列：
  - 顶部：点数大字，20px
  - 底部：赔率小字，12px，金色

第三排（点数 11-17）：
[11][12][13][14][15][16][17]
- 布局同上

第四排（特殊投注）：
┌──────────┬──────────┐
│ 任意三同号 │ 指定三同号 │
│   30:1    │   180:1   │
└──────────┴──────────┘
- 每格：125×70px

第五排（两骰组合）：
显示15种组合（1-2, 1-3 ... 5-6）
- 每格：50×50px
- 3行5列网格布局
- 显示：两个点数+赔率

第六排（单骰号）：
[1] [2] [3] [4] [5] [6]
- 每格：60×80px
- 显示：
  - 顶部：骰子图标，32px
  - 中间：点数，18px
  - 底部：赔率「1/2/3:1」，10px
```

**底部操作栏**
```
高度：80px
背景：#1A1A1A
顶部边框：1px solid #FFD700
内边距：12px 16px

筹码选择器（左侧，60%宽度）：
- 横向滚动列表
- 筹码选项：[10][50][100][500][1000]
- 每个筹码：
  - 尺寸：56×56px圆形
  - 背景：径向渐变（中心亮，边缘暗）
  - 颜色：
    - 10：蓝色
    - 50：绿色
    - 100：紫色
    - 500：橙色
    - 1000：金色
  - 选中：边框4px gold，scale(1.1)

确认下注按钮（右侧）：
- 尺寸：100×56px
- 背景：金色渐变 + 脉冲动画
- 文字：「确认下注」，16px Bold
- 圆角：28px
- 阴影：金色光晕

清空按钮（次要）：
- 尺寸：60×40px
- 样式：次要按钮（边框金色）
- 文字：「清空」，14px

走势按钮：
- 图标按钮，40×40px
- 图标：趋势图标，20px
```

**开奖动画状态**
```
第1阶段：封盘（倒计时归零时）
- 投注格全部禁用，灰化
- 底部操作栏隐藏
- 倒计时显示「开奖中...」，金色旋转

第2阶段：骰盅动画（3-5秒）
- 骰盅展示区放大至占屏50%
- 背景暗化（遮罩rgba(0,0,0,0.6)）
- 3D动画播放：
  - 骰盅晃动
  - 打开
  - 骰子滚动
  - 定格

第3阶段：结果展示
- 骰盅区显示最终点数：
  - 三颗骰子定格，点数朝上
  - 总点数大字显示，48px，金色
  - 大/小、单/双标签
- 投注面板：
  - 中奖格子：金色边框闪烁3次
  - 粒子从格子中心爆炸
  - 未中奖格子：半透明

第4阶段：中奖弹窗（如果中奖）
- 模态框：
  - 背景：#1A1A1A，金色边框
  - 标题：「恭喜中奖！」，24px
  - 奖金金额：大字显示，数字滚动动画
  - 分享按钮、继续游戏按钮
- 大奖（>1000）：
  - 金币雨动画，2秒
  - 震动反馈，500ms

第5阶段：重置
- 动画结束后，自动进入下一局
- 倒计时重新开始
- 投注格恢复可用
```

#### 钱包页面

**布局结构**
```
┌─────────────────────────────────────┐
│ 顶部栏（56px）                        │
│ ← 钱包                               │
├─────────────────────────────────────┤
│                                     │
│      余额卡片（180px）                │
│  ┌───────────────────────────────┐  │
│  │ 💰 总余额                     │  │
│  │   28,888.88 USDT            │  │
│  │                             │  │
│  │ 可用：28,888.88  冻结：0     │  │
│  │ 赠送：0                     │  │
│  └───────────────────────────────┘  │
├─────────────────────────────────────┤
│                                     │
│  操作按钮区（80px）                   │
│  ┌──────────┐  ┌──────────┐         │
│  │   充值   │  │   提现   │         │
│  └──────────┘  └──────────┘         │
├─────────────────────────────────────┤
│ 交易记录（标题栏 40px）                │
│ 全部 | 充值 | 提现 | 下注 | 中奖      │
├─────────────────────────────────────┤
│                                     │
│        记录列表（可滚动）              │
│  ┌─────────────────────────────┐    │
│  │ 🟢 充值                     │    │
│  │ +100.00 USDT     12:30     │    │
│  └─────────────────────────────┘    │
│  ┌─────────────────────────────┐    │
│  │ 🔴 下注-局号123456          │    │
│  │ -50.00 USDT      12:25     │    │
│  └─────────────────────────────┘    │
│        ...更多记录...                │
│                                     │
└─────────────────────────────────────┘
```

**余额卡片设计**
```
尺寸：390×160px（全宽-40px边距）
背景：径向渐变
  - 中心：rgba(218, 165, 32, 0.2) (暗金)
  - 边缘：#1A1A1A
圆角：16px
边框：2px solid rgba(255, 215, 0, 0.3)
阴影：0 8px 24px rgba(255, 215, 0, 0.2)
内边距：24px

布局：
- 顶部标签：「总余额」，14px，灰色
- 余额数字：40px Bold，Roboto Mono，金色
- 单位：16px，灰色，右对齐
- 分隔线：1px solid #3A3A3A，margin 16px 0
- 底部三行小字：
  - 「可用：XXX」，绿色
  - 「冻结：XXX」，黄色
  - 「赠送：XXX」，蓝色
  - 字号：14px，等宽布局
```

**操作按钮**
```
充值按钮：
- 尺寸：180×56px
- 背景：#10B981
- 图标：➕，20px
- 文字：「充值」，18px Bold
- 圆角：12px
- 阴影：0 4px 12px rgba(16, 185, 129, 0.3)

提现按钮：
- 尺寸：180×56px
- 背景：#F97316
- 图标：➖，20px
- 文字：「提现」，18px Bold
- 圆角：12px
- 阴影：0 4px 12px rgba(249, 115, 22, 0.3)

布局：
- 水平排列，间距16px
- 居中对齐
```

**交易记录列表**
```
标签栏：
- 高度：40px
- 背景：#1A1A1A
- 标签：「全部」「充值」「提现」「下注」「中奖」
- 选中：金色下划线，3px粗
- 未选中：灰色文字

列表项：
- 高度：72px
- 背景：#1A1A1A
- 边框底：1px solid #2A2A2A
- 内边距：12px 16px

布局（每项）：
┌─────────────────────────────────────┐
│ 🟢 充值                    +100.00  │
│ 订单号：ORD123456           12:30   │
│ 状态：成功                           │
└─────────────────────────────────────┘

- 左侧：
  - 图标：24×24px（充值🟢，提现🟠，下注🔵，中奖🟡）
  - 类型标题：16px Bold
  - 订单号/说明：12px，灰色
  - 状态：12px，颜色根据状态变化
- 右侧：
  - 金额：18px Bold，Roboto Mono
  - 颜色：收入绿色，支出红色
  - 时间：12px，灰色
```

#### 充值页面

**流程布局**
```
┌─────────────────────────────────────┐
│ 顶部栏：← 充值                        │
├─────────────────────────────────────┤
│                                     │
│  步骤1：选择金额                      │
│  ┌───┬───┬───┬───┬───┐              │
│  │10 │50 │100│500│1K │              │
│  └───┴───┴───┴───┴───┘              │
│  自定义金额：[_______] USDT          │
│                                     │
├─────────────────────────────────────┤
│  步骤2：选择支付方式                   │
│  ⚪ USDT (TRC20)  推荐               │
│  ⚪ USDT (ERC20)                    │
│  ⚪ TON                             │
│  ⚪ Apple Pay (暂不支持)             │
├─────────────────────────────────────┤
│  优惠活动                             │
│  🎁 首充送20%！                      │
│  🎁 充值≥500送50 USDT               │
├─────────────────────────────────────┤
│  预计到账：100.00 USDT               │
│  手续费：0 USDT                      │
├─────────────────────────────────────┤
│                                     │
│     [确认充值] 按钮                   │
│                                     │
└─────────────────────────────────────┘
```

**选中支付方式后显示**
```
┌─────────────────────────────────────┐
│  充值信息                             │
│  ┌───────────────────────────────┐  │
│  │  请转账至以下地址                │  │
│  │                               │  │
│  │  [二维码 200×200px]            │  │
│  │                               │  │
│  │  地址：TXs7n...k3Lm           │  │
│  │  [复制] 按钮                   │  │
│  │                               │  │
│  │  金额：100.00 USDT            │  │
│  │  [复制] 按钮                   │  │
│  │                               │  │
│  │  ⏱ 等待区块链确认...           │  │
│  │  预计5-10分钟到账              │  │
│  └───────────────────────────────┘  │
├─────────────────────────────────────┤
│  温馨提示：                           │
│  • 请勿向此地址转账其他币种           │
│  • 最小充值金额10 USDT               │
│  • 到账后将自动刷新余额               │
└─────────────────────────────────────┘
```

**金额按钮设计**
```
尺寸：70×60px
背景：#2A2A2A
边框：2px solid #3A3A3A
圆角：8px
文字：16px Bold
选中：
- 背景：金色渐变
- 边框：2px solid #FFD700
- 文字：#0A0A0A（深色）
- 缩放：scale(1.05)
```

#### 3D骰子技术实现说明

**Three.js场景配置**
```javascript
场景（Scene）：
- 背景颜色：#0A0A0A
- 雾效：轻微暗淡效果

相机（Camera）：
- 类型：PerspectiveCamera
- FOV：45°
- 位置：(0, 10, 20)
- 目标：(0, 0, 0)

光源（Lights）：
- 环境光（AmbientLight）：0xffffff，强度0.5
- 主光源（DirectionalLight）：0xffffff，强度1，位置(10, 15, 10)
- 聚光灯（SpotLight）：0xffd700，强度0.8，照射骰盅区

赌桌（Plane）：
- 尺寸：30×30
- 材质：深红绒布纹理
- 法向贴图：增加真实感
```

**骰子模型**
```javascript
几何体：BoxGeometry(1, 1, 1)
材质：MeshStandardMaterial
  - 颜色：#FFFFF0（象牙白）
  - 金属度：0.1
  - 粗糙度：0.3
  - 法线贴图：凹陷点数效果

点数贴图（UV Mapping）：
- 6个面分别贴1-6点的纹理
- 点数颜色：#000000（黑色）
- 点数样式：圆形凹陷

物理属性（Cannon.js）：
- 质量：1kg
- 摩擦力：0.3
- 弹性：0.5
- 角阻尼：0.3（快速减速）
```

**动画关键帧**
```
0.0s - 初始状态
- 骰盅位于中心，盖子盖住
- 骰子在骰盅内部（不可见）

0.0-2.0s - 晃动阶段
- 骰盅沿Y轴旋转，±30°
- 骰盅上下抖动，±0.2单位
- 骰子在内部轻微碰撞
- 音效：晃动声（金属碰撞+骰子滚动）

2.0s - 打开骰盅
- 骰盅盖子向上弹起并旋转
- 骰盅底座降低
- 音效：开盅声（金属弹开）

2.0-4.5s - 骰子滚动
- 三颗骰子弹出，赋予随机初速度和旋转
- 物理模拟：自由落体、碰撞赌桌、相互碰撞
- 滚动、弹跳、逐渐减速
- 音效：骰子碰撞声（根据速度变化音量）

4.5s - 逐渐停止
- 骰子滚动速度降至0
- 最终姿态：结果点数朝上（后端预设结果）
- 音效：定格声（轻微）

4.5-5.0s - 结果强调
- 三颗骰子轻微发光（金色边缘光）
- 相机缓慢拉近聚焦骰子
- 点数数字从骰子上方弹出（2D UI叠加）
```

**性能优化**
```
降级方案：
1. 检测设备性能（WebGL性能测试）
2. 低端设备：
   - 禁用Three.js
   - 使用预渲染Lottie 2D动画
   - 或使用WebM视频（多结果预渲染）
3. 中端设备：
   - 降低骰子模型精度
   - 减少阴影质量
   - 降低渲染分辨率至75%
4. 高端设备：
   - 全质量渲染
   - 启用抗锯齿（FXAA）
   - 粒子特效

帧率目标：
- 动画阶段：60fps
- 低端设备：30fps可接受
```

---

## 6. 响应式设计

### 6.1 断点设置

```
移动端（Primary Target）
- 小屏：320px - 374px（iPhone SE）
- 中屏：375px - 429px（iPhone 13/14）
- 大屏：430px - 480px（iPhone 15 Pro Max）

平板端
- 竖屏：768px - 1023px（iPad）
- 横屏：1024px - 1366px

桌面端（Telegram Desktop）
- 小桌面：1366px - 1919px
- 大桌面：1920px+
```

### 6.2 布局适配

**移动端（430px基准）**
```
游戏大厅：
- 骰盅区：全宽，高度280px
- 投注格：
  - 大/小/单/双：每个93px宽（4列）
  - 点数格：每个54px（7列）
  - 间距：8px
- 底栏：全宽，高度80px

钱包页：
- 余额卡：全宽-40px边距
- 按钮：每个180px宽，垂直间距16px

充值页：
- 金额按钮：5列布局
- 二维码：200×200px居中
```

**平板端（768px及以上）**
```
游戏大厅：
- 骰盅区：居中，最大宽度600px
- 投注面板：网格布局，更紧凑
- 两列布局：左侧骰盅+投注，右侧聊天/走势

钱包页：
- 卡片最大宽度500px居中
- 按钮水平排列

充值页：
- 表单居中，最大宽度500px
```

**桌面端（1366px及以上）**
```
游戏大厅：
- 三列布局：
  - 左侧：历史走势（300px）
  - 中间：骰盅+投注（800px）
  - 右侧：聊天室（300px）
- 投注格更大更清晰

钱包页：
- 卡片居中，最大宽度600px
- 交易记录显示更多信息（完整订单号）
```

### 6.3 组件适配

**文字自适应**
```
移动端：
- 标题：20-24px
- 正文：14-16px
- 数字：根据重要性16-48px

平板/桌面：
- 标题：24-32px
- 正文：16-18px
- 数字：根据重要性18-64px
```

**触摸目标**
```
移动端：
- 最小：44×44px（iOS标准）
- 推荐：48×48px
- 间距：至少8px

桌面端：
- 可缩小至32×32px
- 支持hover状态
```

---

## 7. 开发交付说明

### 7.1 设计资产

**图标资源**
```
需要的图标（SVG格式）：
- 导航图标：首页、记录、排行、钱包、我的
- 功能图标：充值、提现、规则、设置、客服、分享
- 状态图标：成功、失败、警告、加载中
- 骰子点数：1-6点（用于非3D降级方案）
- 筹码：10/50/100/500/1000（彩色）
- VIP等级徽章：6个等级

图片资源：
- Logo（多尺寸）：512×512, 256×256, 128×128
- 启动页背景：1080×1920（竖屏）
- 赌桌纹理：2048×2048（PBR材质）
- 骰盅模型：3D模型文件（GLTF/GLB）
- 骰子模型：3D模型文件
```

**颜色变量（CSS Variables）**
```css
:root {
  /* 主色 */
  --color-primary-dark-red: #8B0000;
  --color-primary-brown-red: #A52A2A;
  --color-primary-darkest-red: #5C0000;
  --color-primary-gold: #FFD700;
  --color-primary-light-gold: #FFF4CC;
  --color-primary-dark-gold: #DAA520;

  /* 辅助色 */
  --color-success: #10B981;
  --color-warning: #F97316;
  --color-info: #3B82F6;
  --color-error: #EF4444;

  /* 中性色 */
  --color-bg-darkest: #0A0A0A;
  --color-bg-dark: #1A1A1A;
  --color-bg-medium: #2A2A2A;
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #A0A0A0;
  --color-text-disabled: #505050;
  --color-border: #3A3A3A;

  /* 间距 */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-xxl: 48px;

  /* 圆角 */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 50%;

  /* 阴影 */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.4);
  --shadow-gold: 0 0 24px rgba(255, 215, 0, 0.6);
}
```

### 7.2 技术建议

**前端技术栈**
```
推荐框架：React 18 + Next.js 14
状态管理：Zustand（轻量）
样式方案：Tailwind CSS + CSS Modules
3D库：Three.js + Cannon.js（物理引擎）
动画库：Framer Motion（页面切换）+ Lottie（UI动效）
图表库：Recharts（走势图）
```

**性能优化要求**
```
首屏加载：
- 目标：<3秒（3G网络）
- 代码分割：按路由懒加载
- 图片优化：WebP格式，压缩至合理大小
- 字体：仅加载必要字重

运行性能：
- 60fps目标
- 3D动画优化：降级方案
- 避免大量DOM操作
- 使用虚拟滚动（长列表）

缓存策略：
- Service Worker：缓存静态资源
- LocalStorage：用户设置、筹码选择
- SessionStorage：当前局信息
```

### 7.3 实现注意事项

**移动端特殊处理**
```
1. 视口设置：
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

2. 触摸优化：
- 禁用长按菜单：user-select: none
- 快速点击：touch-action: manipulation
- 防误触：增加按钮间距

3. 输入框：
- 自动聚焦谨慎使用（避免键盘弹出影响布局）
- 数字输入：type="number" pattern="[0-9]*"

4. Telegram WebApp集成：
- 使用Telegram.WebApp.ready()初始化
- 监听Telegram.WebApp.BackButton
- 适配Telegram主题颜色
```

**无障碍（Accessibility）**
```
1. 语义化HTML：
- 使用<button>而非<div>
- 表单使用<label>
- 导航使用<nav>

2. ARIA标签：
- 角色：role="button"等
- 状态：aria-disabled, aria-selected
- 标签：aria-label for图标按钮

3. 键盘导航（桌面端）：
- Tab顺序合理
- 快捷键：Enter确认，Esc关闭

4. 对比度：
- 文字对比度≥4.5:1（WCAG AA）
- 重要按钮对比度≥7:1（WCAG AAA）
```

**国际化预留**
```
1. 文本外置：
- 所有UI文本使用i18n key
- 支持RTL语言布局（阿拉伯语等）

2. 数字格式：
- 金额：支持千分位、小数位
- 日期：支持多种格式（MM/DD/YYYY，DD/MM/YYYY）

3. 货币符号：
- 动态显示（USDT, USD, EUR等）
```

---

## 8. 设计审查清单

### 8.1 视觉一致性
- [ ] 所有页面使用统一色彩系统
- [ ] 字体大小符合规范
- [ ] 间距符合8px基准
- [ ] 圆角统一
- [ ] 阴影层级正确

### 8.2 交互完整性
- [ ] 所有按钮都有hover/active状态
- [ ] 表单有验证和错误提示
- [ ] 加载状态清晰展示
- [ ] 成功/失败反馈明确
- [ ] 模态框有关闭方式

### 8.3 移动端适配
- [ ] 所有页面在430px宽度下无横向滚动
- [ ] 触摸目标≥44px
- [ ] 文字可读性良好（≥14px）
- [ ] 关键信息不被刘海/底部横条遮挡

### 8.4 性能考虑
- [ ] 图片已优化压缩
- [ ] 3D动画有降级方案
- [ ] 长列表使用虚拟滚动
- [ ] 避免过度动画

### 8.5 可访问性
- [ ] 颜色对比度达标
- [ ] 图标按钮有文字说明
- [ ] 表单有label
- [ ] 键盘可导航（桌面端）

---

## 9. 版本记录

| 版本 | 日期 | 更新内容 | 设计师 |
|:----:|:----:|:--------:|:------:|
| V1.0 | 2025-11-09 | 初版设计规范，涵盖11个页面详细设计 | UI Designer |

---

**文档状态**：✅ 已完成
**下一步行动**：前端开发工程师根据本设计规范开始代码实现

---

*本文档为内部设计规范文档，包含完整的视觉、交互、组件设计说明，请妥善保管*
