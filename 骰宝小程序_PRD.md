骰宝（Sic-Bo）Telegram 小程序 — 产品设计与开发规划（PM 文档）
一、产品概述与目标

产品名（示例）：骰宝夺宝 / DiceTreasure（可改）
平台：Telegram WebApp（在 Telegram 内嵌 WebView 运行）
定位：移动优先的实时骰宝游戏，融合即时动画、社交互动（聊天 / 邀请）、法币/加密充值与提现（或模拟币模式）。目标为「高沉浸感 & 可扩展真正支付」的轻度社交博彩类体验。
核心目标：

 1. 在 Telegram 内提供流畅、酷炫的骰宝体验（动效、声音、开奖动画）；
 2. 支持用户充值/查看余额/提现（根据合规级别可选）；
 3. 保证开奖/随机性可审计（若是真钱则必须可审计或使用受信赖 RNG）；
 4. 提供管理后台以配置奖池 /赔率 /风控

 二、竞品与行业对比（摘要）

市场上常见实现：

 1. 大型线上赌场与加密平台会推出移动端或 Web 版 Sic-Bo，支持法币/加密充值与真人直播或动画掷骰（例如 CoinPoker 提供加密充值与 Live Sic-Bo）。
Coin Poker
 2. 专业赌场游戏厂商（Microgaming、Playtech、RTG 等）有成熟的 Sic-Bo 游戏逻辑与赔率体系，移动 UI 常用棋盘式押注布局与强烈的视觉反馈。
谷歌 Play 商店
 3. 市场上优秀作品在 UI/UX 上强调：大图的骰盅/骰子动效、清晰的投注格、赔率标注、历史走势/热号、即时余额与快捷充值入口（Play 商店上有多款示例 App）。
谷歌 Play 商店
+1
 4. 设计灵感来自设计社区（Dribbble）上的高保真概念稿，多采用卡片化押注格、金属/木质赌桌质感与粒子光效。
Dribbble
结论（对比要点）：
 1. 必备：即时动画、清晰押注板、余额/充值快捷入口、历史/开奖记录、赔率展示。
 2. 进阶：真人直播模式、统计/走势图、可验证随机（provably fair）、多货币（法币+加密）、VIP 套餐、社交功能（聊天/榜单）。

 三、目标用户与商业模式

用户画像：18–45 岁、移动优先、熟悉 Telegram、偏好即时互动游戏 / 休闲博彩用户（注意合规限制）。
商业模式：充值抽佣 / 手续费、内购 VIP、广告 / 合作推广、平台抽水（赔率内定）。
营收点：充值手续费、VIP 服务、道具/皮肤购买（非现金奖品）、广告分发。

四、核心玩法与投注项（基于你给的规则图）
骰宝基本规则（简述）

1. 使用三颗标准六面骰（点数 1–6），投注不同组合或总点数、大小（Small/Big）、单双、三同号/两同号、具体点数等。
2. 你给的规则图（图一）展示了以 4~17 为区间的大小、各点数赔率，以及若干组合彩格（按传统庄家赔率配置）。我们在实现时保留这些常见投注格（见下表）。

建议的投注选项（必须在界面一目了然）
1. 大 / 小（Big: 11–17, Small: 4–10）
2. 单 / 双（Odd / Even — 总点数奇偶）
3. 任意三（任意三同号）
4. 点数投注（4–17 的总点数）
5. 组合投注（例如两骰同号 + 指定点数）
6. 单骰号 / 出现次数（指定某个点是否出现 1/2/3 次）
7. 精准三同号（指定三颗骰子为同一面） — 高赔率
（这些与主流 Sic-Bo 保持一致，便于玩家理解与迁移）

五、功能模块（按优先级）
核心模块（必做）
1. 首页 / 大厅：当前局信息、历史开奖条、入口（加入 / 下注）
2. 押注面板（Bet Board）：格子化押注板，显示赔率、最小/最大下注、可点开查看规则
3. 下注确认弹窗：显示下注明细、预计赔率、余额扣减确认
4. 开奖动画：三颗骰子物理/动画抛掷 → 结果展示 → 中奖高亮
5. 钱包/余额页：显示余额、明细、充值/提现入口
6. 充值（支付）模块：支持法币通道（Stripe / 支付宝 / 微信）或加密（USDT/ETH 等） — 视合规决定
7. 历史记录 / 中奖榜：实时展示最近中奖用户、中奖金额（隐私可模糊）
8. 用户账号：Telegram 绑定（使用 Telegram.WebApp initData），KYC 流程（必要时）

次级模块（V2）
1. 排行/排行榜、任务体系 / 日常奖励、VIP 权益、邀请奖励、聊天 / 社交（WebApp 容器内）、真人直播（Live Dealer

六、UI/交互详细规划（页面级别）
1) 大厅 / 首页（首屏）
1. 顶部：直播/骰盅动画（循环渲染），左上显示倒计时（下注截止）
2. 中部：押注面板（分为若干行：大小/奇偶、点数格、组合格、特殊格），每个格子显示赔率（小字）、可点数倍数
3. 底部浮层：当前余额（黄色/绿色）、快捷充值按钮、下注历史、撤单（若支持）
4. 动效：押注时格子光效；开奖时骰子抛动 + 爆光 + 中注格子跳动

2) 押注面板（交互要点）
1. 点击格子 → 弹出下注金额选择器（预设 + 自定义）
2. 支持多格同时下注，显示累加下注总额
3. 显示“最大/最小限额”“限额剩余”工具提示

3) 开奖动画页面 / 弹窗
1. 3D 骰盅或高质量 Lottie 动画（可用 WebGL / three.js 做 3D），掷骰声音与触感反馈
2. 结果数字动画（从滚动数字到定格）
3. 中注用户/金额高亮 + 恭喜弹窗（带分享按钮）

4) 钱包 / 充值页
1. 显示分层余额（可选：真实余额 / 赠送余额）
2. 充值按钮弹起支付方式选择（法币/加密）
3. 充值流程：创建订单 → 调用支付渠道 → 回调更新余额 → 显示成功页与收据

5) 规则与赔率说明（帮助页）
1. 交互式图例：鼠标/触摸点某一格显示详细赔率与举例（例如：下注 10，若三同号做法赔率 150:1）

七、支付 / 充值 / 余额设计（关键风险点 & 实施建议）
支付方式（建议）
    阶段化：
    1. Demo期：使用“模拟币”或第三方沙箱支付（仅展示流程，不真正走钱）。
    2. 上线期（若合规允许）：接入受信任支付网关（Stripe/Adyen）或区域支付（支付宝/微信）。
    3. 支持加密支付（USDT/ERC-20）作为选项（若业务合规与目标市场允许）。
    Coin Poker

支付流程（建议实现）
    1. 前端发起充值请求 → 后端创建订单（orderId、amount、userId）
    2. 返回支付链接或支付参数（第三方 SDK）
    3. 支付完成后，第三方回调后端 → 验签并更新订单状态 & 用户余额
    前端轮询或回调确认充值成功

余额安全与展示
    1. 显示三类：可用余额、冻结（参与中的下注）、历史（充值/提现/下注记录）
    2. 重要：前端只展示，所有核心余额计算和变更必须在后端可信执行并写入数据库（避免客户端伪造）

充值/提现风控
    1. 小额先行，大额需 KYC（身份证、照片、人工审核）
    2. 频繁充值/提现或异常大额触发风控策略（限额/白名单/冻结）
    3. 支付异常需人工客服介入

八、监控、数据与 KPI（量化指标）
    1. 日活 / 月活（DAU/MAU）
    2. 付费转化率（充值用户占比）
    3. ARPU / ARPPU（人均营收 / 付费用户人均营收）
    4. 投注量 / 轮次（总投注额、每轮平均投注额）
    5. 充值/提现失败率、订单取消率
    6. 系统可用率（SLA 99.9%+）、延时监控（下注确认时间）

九、UI 交互与视觉参考（可供设计拿去做稿）
    1. 视觉：赌桌质感（深红/金/木色），高对比按钮（金色 / 橙色），押注格卡片化。参考 Dribbble 高质量概念稿与主流 App 截图。
    Dribbble
    +1
    2. 动画：three.js / Lottie 或 WebGL 做骰子 3D 抛掷；落定后高亮中注区域 + 粒子效果
    3. 移动端要点：大按钮、一手可操作、快速充值入口、下注历史折叠显示
